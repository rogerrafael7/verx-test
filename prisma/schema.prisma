// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["linux-arm64-openssl-1.1.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model PlantationType {
  id                          Int                           @id @default(autoincrement())
  name                        String                        @unique
  RuralProducerPlantationType RuralProducerPlantationType[]

  @@map("td_plantation_type")
}

model RuralProducer {
  id               Int                           @id @default(autoincrement())
  createdAt        DateTime                      @default(now())
  updatedAt        DateTime                      @updatedAt
  name             String
  taxId            String                        @unique @map("tax_id")
  farmName         String                        @map("farm_name")
  city             String
  state            String
  totalAreaHa      Float                         @map("total_area_ha")
  arableAreaHa     Float                         @map("arable_area_ha")
  vegetationAreaHa Float                         @map("vegetation_area_ha")
  plantationTypes  RuralProducerPlantationType[]

  @@map("tb_rural_producer")
}

model RuralProducerPlantationType {
  id               Int            @id @default(autoincrement())
  createdAt        DateTime       @default(now())
  updatedAt        DateTime       @updatedAt
  ruralProducer    RuralProducer  @relation(fields: [ruralProducerId], references: [id])
  ruralProducerId  Int            @map("rural_producer_id")
  plantationType   PlantationType @relation(fields: [plantationTypeId], references: [id])
  plantationTypeId Int            @map("plantation_type_id")

  @@map("ta_rural_producer_plantation_type")
}
